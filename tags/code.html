<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <meta name="description" content="Posts about code">
    <meta name="author" content="punchagan">
    <title>Posts about code | Noetic Nought</title>
    
            <link href="/assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
    <![endif]-->
        <link rel="alternate" type="application/rss+xml" title="RSS for tag code (en)" href="/tags/code.xml">

    
    
    
<link rel="stylesheet" type="text/css" href="/assets/css/tipuesearch.css">

</head>
<body>
    <div class="container">
        <div class="four columns sidebar">
            <nav>
            <!--Sidebar content-->

            <h1 id="blog-title">
                <a href="http://punchagan.muse-amuse.in/" title="Noetic Nought">Noetic Nought</a>
            </h1>
            <hr>
            
                    <p> Posts about code</p>
            
            <hr>
            <div id="social">
            
    

            </div>
            
    <ul>
            <li> <a href="/index.html"> Home </a> </li>
            <li> <a href="/archive.html"> Archives </a> </li>
            <li> <a href="/tags/index.html"> Tags </a> </li>
            <li> <a href="/tags/cat_bookmarks.html"> Bookmarks </a> </li>
            <li> <a href="/tags/cat_quotes.html"> Quotes </a> </li>
            <li> <a href="/rss.xml"> RSS </a> </li>
            <li> <a href="https://github.com/punchagan"> GitHub </a> </li>
            <li> <a href="https://twitter.com/punchagan"> Twitter </a> </li>
            <li> <a href="/tags/cat_hackerschool-checkins.html"> HackerSchool </a> </li>
    </ul>

            <hr>
            
<span class="navbar-form pull-left">
<input type="text" id="tipue_search_input" placeholder="Search this site">
</span>
<div id="tipue_search_content" style="margin-left: auto; margin-right: auto; padding: 20px;"></div>

            </nav>
        </div>
        <div class="eleven columns content">
            
        
    <div class="postbox">
        <h1>
                <a href="/posts/a-smarter-404-page.html">A smarter 404 page.</a>
        </h1>
        <div class="post"> <p>
<a href="http://twitter.com/avudem">Voodoo</a> found a broken link referring to a one of my posts, on Quora.
Given that I have changed my site generator a bunch of times now, it
is quite possible that there are other broken links at various other
places.  So, I implemented a smart <a href="http://punchagan.muse-amuse.in/this-is-a-fun-hack">404 page</a> for the site, yesterday.
It is very similar to something I came across on <a href="http://brettterpstra.com/2013/04/07/fun-with-intelligent-404-pages/">brettterpstra</a>'s site.
I just <a href="http://punchagan.muse-amuse.in/assets/js/suggestions.js">hooked up</a> <a href="http://kiro.me/projects/fuse.html">fuse.js</a> with Nikola's <a href="http://getnikola.com/handbook.html#local-search">tipue-search plugin</a>'s output
file.  My glue code essentially, just figures out the search term from
the URL, performs a Fuse search on the json data created by Nikola's
search plugin, and returns a list of top 5 results.  It just took me
about an hour to write, but is pretty useful, I think.
</p> </div>
        
    <div class="meta">
        <span class="date">
            <time class="published" datetime="2013-11-11T12:36:53-05:00">2013-11-11 12:36</time>
        </span>
        <ul class="tags">
            <li><a href="/tags/code.html">code</a></li>
            <li><a href="/tags/fuzzy-search.html">fuzzy-search</a></li>
            <li><a href="/tags/hack.html">hack</a></li>
            <li><a href="/tags/js.html">js</a></li>
        </ul>
        <span class="comment-count">
            
        
    <a href="http://punchagan.muse-amuse.in/posts/a-smarter-404-page.html#disqus_thread" data-disqus-identifier="cache/posts/a-smarter-404-page.html">Comments</a>


        </span>
    </div>

    </div>

        
    <div class="postbox">
        <h1>
                <a href="/posts/bookmarks-and-quotes-plugin.html">Bookmarks and Quotes plugin</a>
        </h1>
        <div class="post"> <p>
I used to have a separate page for bookmarks and quotes on the old
blog.  They will now be shared as regular posts with 5 or more
bookmarks/quotes.  I use a bookmarklet in my browser to capture links
to an org-file using org-capture protocol and then I have a small
plugin to Nikola, that looks at such captured bookmarks and quotes and
makes new posts out of them.  This workflow is inspired by Brett
Trepestra's <a href="http://brettterpstra.com/2013/01/15/a-web-excursions-system-for-static-blogs/">web excursions</a> plugin.
</p>

<p>
The plugin is currently a part of my blog source, and not published to
Nikola's plugin repository since it is very specific to my setup.  But
if anybody is interested, I can publish the code somewhere public.
</p>

<p>
If you are interested to get these links and bookmarks into your feed
reader, you can subscribe to their feed: <a href="http://punchagan.muse-amuse.in/categories/quotes.xml">quotes</a>, <a href="http://punchagan.muse-amuse.in/categories/bookmarks.xml">bookmarks</a>.  These
posts will also make it to the main feed, though.
</p> </div>
        
    <div class="meta">
        <span class="date">
            <time class="published" datetime="2013-10-19T20:26:13-04:00">2013-10-19 20:26</time>
        </span>
        <ul class="tags">
            <li><a href="/tags/blog.html">blog</a></li>
            <li><a href="/tags/code.html">code</a></li>
            <li><a href="/tags/nikola.html">nikola</a></li>
            <li><a href="/tags/orgmode.html">orgmode</a></li>
        </ul>
        <span class="comment-count">
            
        
    <a href="http://punchagan.muse-amuse.in/posts/bookmarks-and-quotes-plugin.html#disqus_thread" data-disqus-identifier="cache/posts/bookmarks-and-quotes-plugin.html">Comments</a>


        </span>
    </div>

    </div>

        
    <div class="postbox">
        <h1>
                <a href="/posts/github-cue-recommendations-for-github-repos.html">GitHub Cue: Recommendations for GitHub Repos</a>
        </h1>
        <div class="post"> <p>
If you aren't already aware of it, I'm one of those people who
goes around saying, "GitHub is my Facebook".  I spend quite a lot
of time on GitHub, browsing the work of various people, looking at
loads of interesting stuff that people built.  I keep jumping
between people pages and projects using the Watchers/Watching &amp;
Followers/Following pages.  This way, I do come across interesting
people and projects, but the SNR is too low.  I wanted a better
way to be able to see stuff, that I find interesting.  That's how
the idea for this Chromium app – GitHub Cue – was born.
</p>

<p>
@baali and I hacked on this, during the last few days and got it
working.  It works as follows, (from the README) —
</p>

<ol class="org-ol">
<li>Scrapes all the descriptions of the repositories being watched
by the user.
</li>
<li>Key terms are extracted from this description text using the
Yahoo Term Extractor.
</li>
<li>A list of languages is obtained, based on the languages of the
repositories, the user if watching.
</li>
<li>GitHub searches are performed for a combination of 3 randomly
chosen languages and 5 random key terms.
</li>
<li>10 random repositories out of all these, are shown.
</li>
</ol>


<p>
This is a very simplistic algorithm, but works decently for my
purposes.  Ideally, I would've liked to use a Collaborative
Filtering algorithm, but I found the data to be too sparse, and
the amount of computation to be too much to be done on the fly.  I
wasn't really interested in pre-computing stuff and putting it
onto my server.  I settled down to the next best thing I could
think of.
</p>

<p>
I would appreciate any further ideas and suggestions.  Thanks!
</p> </div>
        
    <div class="meta">
        <span class="date">
            <time class="published" datetime="2011-08-05T18:51:00-04:00">2011-08-05 18:51</time>
        </span>
        <ul class="tags">
            <li><a href="/tags/app.html">app</a></li>
            <li><a href="/tags/chrome.html">chrome</a></li>
            <li><a href="/tags/code.html">code</a></li>
            <li><a href="/tags/github.html">github</a></li>
            <li><a href="/tags/hack.html">hack</a></li>
        </ul>
        <span class="comment-count">
            
        
    <a href="http://punchagan.muse-amuse.in/posts/github-cue-recommendations-for-github-repos.html#disqus_thread" data-disqus-identifier="cache/posts/github-cue-recommendations-for-github-repos.html">Comments</a>


        </span>
    </div>

    </div>

        
    <div class="postbox">
        <h1>
                <a href="/posts/gethub-chrome-notifications-for-github-updates.html">GetHub: Chrome Notifications for Github updates</a>
        </h1>
        <div class="post"> <p>
Over the last two days, I hacked up my first Chrome extension.
I've been using Chrome only for the past couple of weeks or so and
I begin to like it, though some of the extensions aren't as mature
as I would've liked.
</p>

<p>
The original idea was floated by my friend,  Madhu, and Lee helped
me quite a bit, while I was working on it.
</p>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">What does it do?</h2>
<div class="outline-text-2" id="text-1">
<p>
It is a simple extension, that shows pop-ups, whenever there is
an update in your GitHub "Wall" (yes, this is a Facebook world)
or News Feed as they call it.
</p>

<p>
After installation, you will need to save your <code>username</code> and
<code>token</code> for the extension to work.
</p>
</div>
</div>
<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">Where to get it?</h2>
<div class="outline-text-2" id="text-2">
<p>
Presently, you will need to get it from GitHub.
</p>

<p>
I might add it to the Chrome Web Store, once I see more people
using it.  I couldn't justify, to myself, paying the initial
one-time verification fee that Google asks for.
</p>

<p>
<b>UPDATE</b>: <span class="timestamp-wrapper"><span class="timestamp">[2011-03-04 Fri]</span></span> Added GetHub to the store
</p>
</div>
</div>
<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3">Comments and Feedback</h2>
<div class="outline-text-2" id="text-3">
<ul class="org-ul">
<li>Feel free to write to me at <code>punchagan+gethub@jeemail.com</code>
</li>
<li>Or file issues at GitHub.
</li>
</ul>


<p>
Happy GitHubbing!
</p>
</div>
</div> </div>
        
    <div class="meta">
        <span class="date">
            <time class="published" datetime="2011-03-02T00:34:00-05:00">2011-03-02 00:34</time>
        </span>
        <ul class="tags">
            <li><a href="/tags/chrome.html">chrome</a></li>
            <li><a href="/tags/code.html">code</a></li>
            <li><a href="/tags/first.html">first</a></li>
            <li><a href="/tags/git.html">git</a></li>
            <li><a href="/tags/software.html">software</a></li>
        </ul>
        <span class="comment-count">
            
        
    <a href="http://punchagan.muse-amuse.in/posts/gethub-chrome-notifications-for-github-updates.html#disqus_thread" data-disqus-identifier="cache/posts/gethub-chrome-notifications-for-github-updates.html">Comments</a>


        </span>
    </div>

    </div>

        
    <div class="postbox">
        <h1>
                <a href="/posts/git-powered-wikis-improved-my-bit.html">Git powered wikis improved: My bit</a>
        </h1>
        <div class="post"> <p>
I accidentally came across the blog-post Git-powered wikis
improved - GitHub. And this particular paragraph caught my
eye:
</p>

<blockquote>
<p>
The new editor has the capability to support every markup
language that GitHub Wikis support. If you're a fan of Markdown,
Textile, pod or RDoc, the function bar buttons (e.g. bold,
italic, underline, etc.) will now work. We've even written brand
new inline help for many of GitHub Wiki's supported markup
languages.
</p>

<p>
The language definitions the editor uses are JSON-based and easy
to edit. If you'd like us to support a markup language that we
don't currently support, Gollum, GitHub's wiki software, is
entirely open source – fork our code and send us a pull request
with changes that support your choice language.
</p>
</blockquote>

<p>
I sent a quick patch for org-mode in the function bar, and it has
been accepted.  :)
</p>

<p>
If not anything more, I hope, at least a couple of curious people
will explore org-mode and find it useful.
</p> </div>
        
    <div class="meta">
        <span class="date">
            <time class="published" datetime="2011-02-04T17:55:00-05:00">2011-02-04 17:55</time>
        </span>
        <ul class="tags">
            <li><a href="/tags/code.html">code</a></li>
            <li><a href="/tags/contribute.html">contribute</a></li>
            <li><a href="/tags/emacs.html">emacs</a></li>
            <li><a href="/tags/foss.html">foss</a></li>
            <li><a href="/tags/git.html">git</a></li>
            <li><a href="/tags/orgmode.html">orgmode</a></li>
        </ul>
        <span class="comment-count">
            
        
    <a href="http://punchagan.muse-amuse.in/posts/git-powered-wikis-improved-my-bit.html#disqus_thread" data-disqus-identifier="cache/posts/git-powered-wikis-improved-my-bit.html">Comments</a>


        </span>
    </div>

    </div>

        
    <div class="postbox">
        <h1>
                <a href="/posts/raise-windows-on-current-desktop-xdotool-bash.html">Raise windows (on current desktop) xdotool &amp; bash</a>
        </h1>
        <div class="post"> <p>
I posted a snippet <sup><a id="fnr.1" name="fnr.1" class="footref" href="/posts/raise-windows-on-current-desktop-xdotool-bash.html#fn.1">1</a></sup> of python code that used xdotool to
raise windows.  I got one patch from dusual <sup><a id="fnr.2" name="fnr.2" class="footref" href="/posts/raise-windows-on-current-desktop-xdotool-bash.html#fn.2">2</a></sup> that
enabled raising of windows in the current workspace only.
</p>

<p>
More importantly, Jordan gave a one-liner <sup><a id="fnr.3" name="fnr.3" class="footref" href="/posts/raise-windows-on-current-desktop-xdotool-bash.html#fn.3">3</a></sup> in bash,
that could do the same thing as my long and elaborate python
snippet.  I had a feeling that this would be much shorter in bash,
but I don't feel comfortable writing bash scripts. :P
</p>

<p>
Below is a bash snippet that tries to incorporates both the
changes. :)
</p>

<div class="highlight"><pre><span class="n">found</span><span class="o">=</span><span class="mi">0</span>

<span class="k">for</span> <span class="n">win</span> <span class="n">in</span> <span class="err">`</span><span class="n">xdotool</span> <span class="n">search</span> <span class="o">--</span><span class="n">class</span> <span class="err">$</span><span class="mi">1</span><span class="err">`</span><span class="p">;</span>
<span class="k">do</span>
<span class="k">if</span> <span class="p">[</span> <span class="err">`</span><span class="n">xdotool</span> <span class="n">get_desktop_for_window</span> <span class="err">$</span><span class="n">win</span><span class="err">`</span> <span class="o">-</span><span class="n">eq</span> <span class="err">`</span><span class="n">xdotool</span> <span class="n">get_desktop</span><span class="err">`</span> <span class="p">];</span>
<span class="n">then</span> <span class="n">found</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="k">break</span><span class="p">;</span>
<span class="n">fi</span><span class="p">;</span>
<span class="n">done</span>

<span class="k">if</span> <span class="p">[</span> <span class="err">$</span><span class="n">found</span> <span class="o">-</span><span class="n">eq</span> <span class="mi">1</span> <span class="p">];</span> <span class="n">then</span> <span class="n">xdotool</span> <span class="n">windowactivate</span> <span class="err">$</span><span class="n">win</span><span class="p">;</span> <span class="k">else</span> <span class="err">$</span><span class="mi">1</span><span class="p">;</span> <span class="n">fi</span>
</pre></div>

<p>
<b>Note</b>: When you've visual effects enabled (the default option on
Ubuntu), getting the current desktop/workspace doesn't work,
probably because Root Window properties are being messed around by
it.
</p>

<p>
<b>Note2</b>: <code>search</code> takes an option <code>--screen</code>. It'd be nice if it
 also had an option <code>--desktop</code>.  This task could then be done in
 a one-liner.
</p>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef">
<sup><a id="fn.1" name="fn.1" class="footnum" href="/posts/raise-windows-on-current-desktop-xdotool-bash.html#fnr.1">1</a></sup> <p class="footpara">
My python snippet
</p>
</div>

<div class="footdef">
<sup><a id="fn.2" name="fn.2" class="footnum" href="/posts/raise-windows-on-current-desktop-xdotool-bash.html#fnr.2">2</a></sup> <p class="footpara">
dusual on twitter
</p>
</div>

<div class="footdef">
<sup><a id="fn.3" name="fn.3" class="footnum" href="/posts/raise-windows-on-current-desktop-xdotool-bash.html#fnr.3">3</a></sup> <p class="footpara">
Jordan's one liner
</p>
</div>


</div>
</div> </div>
        
    <div class="meta">
        <span class="date">
            <time class="published" datetime="2010-11-06T14:30:00-04:00">2010-11-06 14:30</time>
        </span>
        <ul class="tags">
            <li><a href="/tags/code.html">code</a></li>
            <li><a href="/tags/hack.html">hack</a></li>
        </ul>
        <span class="comment-count">
            
        
    <a href="http://punchagan.muse-amuse.in/posts/raise-windows-on-current-desktop-xdotool-bash.html#disqus_thread" data-disqus-identifier="cache/posts/raise-windows-on-current-desktop-xdotool-bash.html">Comments</a>


        </span>
    </div>

    </div>

        
    <div class="postbox">
        <h1>
                <a href="/posts/a-couple-of-counting-functions.html">A couple of counting functions</a>
        </h1>
        <div class="post"> <p>
I had a strict character limit of 180 chars for something I was
writing. I just wrote a simple function to count characters in a
region or a buffer. Another function to count the words.
</p>

<div class="highlight"><pre><span class="p">(</span><span class="n">defun</span> <span class="n">count</span><span class="o">-</span><span class="n">chars</span> <span class="p">()</span>
  <span class="s">"Count the number of chars in a buffer or region."</span>
  <span class="p">(</span><span class="n">interactive</span><span class="p">)</span>
  <span class="p">(</span><span class="n">let</span><span class="o">*</span> <span class="p">((</span><span class="n">beg</span> <span class="p">(</span><span class="k">if</span> <span class="p">(</span><span class="n">region</span><span class="o">-</span><span class="n">active</span><span class="o">-</span><span class="n">p</span><span class="p">)</span> <span class="p">(</span><span class="n">region</span><span class="o">-</span><span class="n">beginning</span><span class="p">)</span> <span class="p">(</span><span class="n">point</span><span class="o">-</span><span class="n">min</span><span class="p">)))</span>
	 <span class="p">(</span><span class="n">end</span> <span class="p">(</span><span class="k">if</span> <span class="p">(</span><span class="n">region</span><span class="o">-</span><span class="n">active</span><span class="o">-</span><span class="n">p</span><span class="p">)</span> <span class="p">(</span><span class="n">region</span><span class="o">-</span><span class="n">end</span><span class="p">)</span> <span class="p">(</span><span class="n">point</span><span class="o">-</span><span class="n">max</span><span class="p">))))</span>
	 <span class="p">(</span><span class="n">message</span> <span class="p">(</span><span class="n">number</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">string</span> <span class="p">(</span><span class="o">-</span> <span class="n">end</span> <span class="n">beg</span><span class="p">)))))</span>
</pre></div>

<div class="highlight"><pre><span class="p">(</span><span class="n">defun</span> <span class="n">count</span><span class="o">-</span><span class="n">words</span> <span class="p">()</span>
  <span class="s">"Count the number of words in a buffer or region."</span>
  <span class="p">(</span><span class="n">interactive</span><span class="p">)</span>
  <span class="p">(</span><span class="n">let</span><span class="o">*</span> <span class="p">((</span><span class="n">beg</span> <span class="p">(</span><span class="k">if</span> <span class="p">(</span><span class="n">region</span><span class="o">-</span><span class="n">active</span><span class="o">-</span><span class="n">p</span><span class="p">)</span> <span class="p">(</span><span class="n">region</span><span class="o">-</span><span class="n">beginning</span><span class="p">)</span> <span class="p">(</span><span class="n">point</span><span class="o">-</span><span class="n">min</span><span class="p">)))</span>
	 <span class="p">(</span><span class="n">end</span> <span class="p">(</span><span class="k">if</span> <span class="p">(</span><span class="n">region</span><span class="o">-</span><span class="n">active</span><span class="o">-</span><span class="n">p</span><span class="p">)</span> <span class="p">(</span><span class="n">region</span><span class="o">-</span><span class="n">end</span><span class="p">)</span> <span class="p">(</span><span class="n">point</span><span class="o">-</span><span class="n">max</span><span class="p">)))</span>
	 <span class="p">(</span><span class="n">count</span> <span class="mi">0</span><span class="p">))</span>
    <span class="p">(</span><span class="n">save</span><span class="o">-</span><span class="n">excursion</span>
      <span class="p">(</span><span class="k">goto</span><span class="o">-</span><span class="kt">char</span> <span class="n">beg</span><span class="p">)</span>
      <span class="p">(</span><span class="k">while</span> <span class="p">(</span><span class="o">&lt;</span> <span class="p">(</span><span class="n">point</span><span class="p">)</span> <span class="n">end</span><span class="p">)</span>
	<span class="p">(</span><span class="n">forward</span><span class="o">-</span><span class="n">word</span><span class="p">)</span>
	<span class="p">(</span><span class="n">setq</span> <span class="n">count</span> <span class="p">(</span><span class="mi">1</span><span class="o">+</span> <span class="n">count</span><span class="p">))))</span>
    <span class="p">(</span><span class="n">message</span> <span class="p">(</span><span class="kt">int</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">string</span> <span class="n">count</span><span class="p">))))</span>
</pre></div> </div>
        
    <div class="meta">
        <span class="date">
            <time class="published" datetime="2010-09-17T19:40:00-04:00">2010-09-17 19:40</time>
        </span>
        <ul class="tags">
            <li><a href="/tags/code.html">code</a></li>
            <li><a href="/tags/elisp.html">elisp</a></li>
            <li><a href="/tags/emacs.html">emacs</a></li>
        </ul>
        <span class="comment-count">
            
        
    <a href="http://punchagan.muse-amuse.in/posts/a-couple-of-counting-functions.html#disqus_thread" data-disqus-identifier="cache/posts/a-couple-of-counting-functions.html">Comments</a>


        </span>
    </div>

    </div>

        
    <div class="postbox">
        <h1>
                <a href="/posts/orgelisp-sorting-list-of-org-links-on-description.html">org/elisp - sorting list of org-links on description</a>
        </h1>
        <div class="post"> <p>
A small utility function that I used to sort the names of people
who commented on my blog.
</p>

<div class="highlight"><pre><span class="p">(</span><span class="n">defun</span> <span class="n">org</span><span class="o">-</span><span class="n">get</span><span class="o">-</span><span class="n">link</span><span class="o">-</span><span class="n">desc</span><span class="o">-</span><span class="n">from</span><span class="o">-</span><span class="n">list</span> <span class="p">()</span>
  <span class="s">""" Get link description of a list item containing just links """</span>
  <span class="p">(</span><span class="n">let</span><span class="o">*</span> <span class="p">((</span><span class="n">item</span><span class="o">-</span><span class="n">beg</span> <span class="p">(</span><span class="n">point</span><span class="p">))</span>
       <span class="p">(</span><span class="n">item</span><span class="o">-</span><span class="n">end</span> <span class="p">(</span><span class="n">org</span><span class="o">-</span><span class="n">end</span><span class="o">-</span><span class="n">of</span><span class="o">-</span><span class="n">item</span><span class="p">))</span>
       <span class="p">(</span><span class="n">cur</span><span class="o">-</span><span class="n">item</span> <span class="p">(</span><span class="n">buffer</span><span class="o">-</span><span class="n">substring</span><span class="o">-</span><span class="n">no</span><span class="o">-</span><span class="n">properties</span>
		  <span class="n">item</span><span class="o">-</span><span class="n">beg</span> <span class="n">item</span><span class="o">-</span><span class="n">end</span><span class="p">)))</span>
    <span class="p">(</span><span class="k">goto</span><span class="o">-</span><span class="kt">char</span> <span class="n">item</span><span class="o">-</span><span class="n">beg</span><span class="p">)</span>
    <span class="p">(</span><span class="n">org</span><span class="o">-</span><span class="n">columns</span><span class="o">-</span><span class="n">compact</span><span class="o">-</span><span class="n">links</span> <span class="n">cur</span><span class="o">-</span><span class="n">item</span><span class="p">)))</span>
</pre></div>

<p>
<code>sort-lines</code> wasn't good enough for me, since it was sorting
alphabetically and it ended up being the sorted order of the urls
and not the names. This function, when used with
<code>org-sort-entries-or-items</code> gave me what I wanted.
</p>

<p>
Thanks to benny (on #org-mode), I also learnt the difference
between <code>let</code> and <code>let*</code>.
</p> </div>
        
    <div class="meta">
        <span class="date">
            <time class="published" datetime="2010-08-20T00:23:00-04:00">2010-08-20 00:23</time>
        </span>
        <ul class="tags">
            <li><a href="/tags/code.html">code</a></li>
            <li><a href="/tags/elisp.html">elisp</a></li>
            <li><a href="/tags/note.html">note</a></li>
            <li><a href="/tags/orgmode.html">orgmode</a></li>
        </ul>
        <span class="comment-count">
            
        
    <a href="http://punchagan.muse-amuse.in/posts/orgelisp-sorting-list-of-org-links-on-description.html#disqus_thread" data-disqus-identifier="cache/posts/orgelisp-sorting-list-of-org-links-on-description.html">Comments</a>


        </span>
    </div>

    </div>

        
    <div class="postbox">
        <h1>
                <a href="/posts/thanks-sacha.html">Thanks Sacha</a>
        </h1>
        <div class="post"> <p>
I just wanted to thank Sacha Chua for bearing with my newbie elisp
code and trying out org2blog.
</p>

<p>
Also, thanks for the two patches she sent.
</p>
<ol class="org-ol">
<li>Feature addition - Posting sub-trees instead of whole buffers.
I had this feature in mind, and had started working on it after
her request, but she was too quick for me! ;)
</li>
<li>Cleaning up of the code that uploads images.
</li>
</ol>

<p>
I'm loving it!
</p> </div>
        
    <div class="meta">
        <span class="date">
            <time class="published" datetime="2010-07-30T06:59:00-04:00">2010-07-30 06:59</time>
        </span>
        <ul class="tags">
            <li><a href="/tags/code.html">code</a></li>
            <li><a href="/tags/elisp.html">elisp</a></li>
            <li><a href="/tags/note.html">note</a></li>
            <li><a href="/tags/org2blog.html">org2blog</a></li>
            <li><a href="/tags/thanks.html">thanks</a></li>
        </ul>
        <span class="comment-count">
            
        
    <a href="http://punchagan.muse-amuse.in/posts/thanks-sacha.html#disqus_thread" data-disqus-identifier="cache/posts/thanks-sacha.html">Comments</a>


        </span>
    </div>

    </div>

        
    <div class="postbox">
        <h1>
                <a href="/posts/refile-to-date-tree.html">Refile to date-tree</a>
        </h1>
        <div class="post"> <p>
Useful to refile notes to the journal file, which is a
date-tree. <code>org-refile</code> isn't convenient to refile stuff to a
date-tree.
</p>

<div class="highlight"><pre><span class="p">(</span><span class="n">defun</span> <span class="n">my</span><span class="o">/</span><span class="n">org</span><span class="o">-</span><span class="n">refile</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">journal</span> <span class="p">()</span>
  <span class="s">"Refile an entry to journal file's date-tree"</span>
  <span class="p">(</span><span class="n">interactive</span><span class="p">)</span>
  <span class="p">(</span><span class="n">require</span> <span class="err">'</span><span class="n">org</span><span class="o">-</span><span class="n">datetree</span><span class="p">)</span>
  <span class="p">(</span><span class="n">let</span> <span class="p">((</span><span class="n">journal</span> <span class="p">(</span><span class="n">expand</span><span class="o">-</span><span class="n">file</span><span class="o">-</span><span class="n">name</span> <span class="s">"journal.org"</span> <span class="n">org</span><span class="o">-</span><span class="n">directory</span><span class="p">))</span>
	<span class="n">post</span><span class="o">-</span><span class="n">date</span><span class="p">)</span>
    <span class="p">(</span><span class="n">setq</span> <span class="n">post</span><span class="o">-</span><span class="n">date</span> <span class="p">(</span><span class="n">or</span> <span class="p">(</span><span class="n">org</span><span class="o">-</span><span class="n">entry</span><span class="o">-</span><span class="n">get</span> <span class="p">(</span><span class="n">point</span><span class="p">)</span> <span class="s">"TIMESTAMP_IA"</span><span class="p">)</span>
			<span class="p">(</span><span class="n">org</span><span class="o">-</span><span class="n">entry</span><span class="o">-</span><span class="n">get</span> <span class="p">(</span><span class="n">point</span><span class="p">)</span> <span class="s">"TIMESTAMP"</span><span class="p">)))</span>
    <span class="p">(</span><span class="n">setq</span> <span class="n">post</span><span class="o">-</span><span class="n">date</span> <span class="p">(</span><span class="n">nthcdr</span> <span class="mi">3</span> <span class="p">(</span><span class="n">parse</span><span class="o">-</span><span class="n">time</span><span class="o">-</span><span class="n">string</span> <span class="n">post</span><span class="o">-</span><span class="n">date</span><span class="p">)))</span>
    <span class="p">(</span><span class="n">setq</span> <span class="n">post</span><span class="o">-</span><span class="n">date</span> <span class="p">(</span><span class="n">list</span> <span class="p">(</span><span class="n">cadr</span> <span class="n">post</span><span class="o">-</span><span class="n">date</span><span class="p">)</span>
			  <span class="p">(</span><span class="n">car</span> <span class="n">post</span><span class="o">-</span><span class="n">date</span><span class="p">)</span>
			  <span class="p">(</span><span class="n">caddr</span> <span class="n">post</span><span class="o">-</span><span class="n">date</span><span class="p">)))</span>
    <span class="p">(</span><span class="n">org</span><span class="o">-</span><span class="n">cut</span><span class="o">-</span><span class="n">subtree</span><span class="p">)</span>
    <span class="p">(</span><span class="n">with</span><span class="o">-</span><span class="n">current</span><span class="o">-</span><span class="n">buffer</span> <span class="p">(</span><span class="n">or</span> <span class="p">(</span><span class="n">find</span><span class="o">-</span><span class="n">buffer</span><span class="o">-</span><span class="n">visiting</span> <span class="n">journal</span><span class="p">)</span>
			     <span class="p">(</span><span class="n">find</span><span class="o">-</span><span class="n">file</span><span class="o">-</span><span class="n">noselect</span> <span class="n">journal</span><span class="p">))</span>
      <span class="p">(</span><span class="n">save</span><span class="o">-</span><span class="n">excursion</span>
	<span class="p">(</span><span class="n">org</span><span class="o">-</span><span class="n">datetree</span><span class="o">-</span><span class="n">file</span><span class="o">-</span><span class="n">entry</span><span class="o">-</span><span class="n">under</span> <span class="p">(</span><span class="n">current</span><span class="o">-</span><span class="n">kill</span> <span class="mi">0</span><span class="p">)</span> <span class="n">post</span><span class="o">-</span><span class="n">date</span><span class="p">)</span>
	<span class="p">(</span><span class="n">bookmark</span><span class="o">-</span><span class="n">set</span> <span class="s">"org-refile-last-stored"</span><span class="p">)))</span>
    <span class="p">(</span><span class="n">message</span> <span class="s">"Refiled to %s"</span> <span class="n">journal</span><span class="p">)))</span>

<span class="p">(</span><span class="n">defun</span> <span class="n">my</span><span class="o">/</span><span class="n">org</span><span class="o">-</span><span class="n">agenda</span><span class="o">-</span><span class="n">refile</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">journal</span> <span class="p">()</span>
  <span class="s">"Refile the item at point to journal."</span>
  <span class="p">(</span><span class="n">interactive</span><span class="p">)</span>
  <span class="p">(</span><span class="n">let</span><span class="o">*</span> <span class="p">((</span><span class="n">marker</span> <span class="p">(</span><span class="n">or</span> <span class="p">(</span><span class="n">org</span><span class="o">-</span><span class="n">get</span><span class="o">-</span><span class="n">at</span><span class="o">-</span><span class="n">bol</span> <span class="err">'</span><span class="n">org</span><span class="o">-</span><span class="n">hd</span><span class="o">-</span><span class="n">marker</span><span class="p">)</span>
		     <span class="p">(</span><span class="n">org</span><span class="o">-</span><span class="n">agenda</span><span class="o">-</span><span class="n">error</span><span class="p">)))</span>
	 <span class="p">(</span><span class="n">buffer</span> <span class="p">(</span><span class="n">marker</span><span class="o">-</span><span class="n">buffer</span> <span class="n">marker</span><span class="p">))</span>
	 <span class="p">(</span><span class="n">pos</span> <span class="p">(</span><span class="n">marker</span><span class="o">-</span><span class="n">position</span> <span class="n">marker</span><span class="p">)))</span>
    <span class="p">(</span><span class="n">with</span><span class="o">-</span><span class="n">current</span><span class="o">-</span><span class="n">buffer</span> <span class="n">buffer</span>
      <span class="p">(</span><span class="n">save</span><span class="o">-</span><span class="n">excursion</span>
	<span class="p">(</span><span class="n">save</span><span class="o">-</span><span class="n">restriction</span>
	  <span class="p">(</span><span class="n">widen</span><span class="p">)</span>
	  <span class="p">(</span><span class="k">goto</span><span class="o">-</span><span class="kt">char</span> <span class="n">marker</span><span class="p">)</span>
	  <span class="p">(</span><span class="n">org</span><span class="o">-</span><span class="n">remove</span><span class="o">-</span><span class="n">subtree</span><span class="o">-</span><span class="n">entries</span><span class="o">-</span><span class="n">from</span><span class="o">-</span><span class="n">agenda</span><span class="p">)</span>
	  <span class="p">(</span><span class="n">my</span><span class="o">/</span><span class="n">org</span><span class="o">-</span><span class="n">refile</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">journal</span><span class="p">)))))</span>
  <span class="p">(</span><span class="n">org</span><span class="o">-</span><span class="n">agenda</span><span class="o">-</span><span class="n">redo</span><span class="p">))</span>

<span class="p">(</span><span class="n">org</span><span class="o">-</span><span class="n">defkey</span> <span class="n">org</span><span class="o">-</span><span class="n">agenda</span><span class="o">-</span><span class="n">mode</span><span class="o">-</span><span class="n">map</span> <span class="p">(</span><span class="n">kbd</span> <span class="s">"C-c C-S-w"</span><span class="p">)</span> <span class="err">'</span><span class="n">my</span><span class="o">/</span><span class="n">org</span><span class="o">-</span><span class="n">agenda</span><span class="o">-</span><span class="n">refile</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">journal</span><span class="p">)</span>
<span class="p">(</span><span class="n">org</span><span class="o">-</span><span class="n">defkey</span> <span class="n">org</span><span class="o">-</span><span class="n">mode</span><span class="o">-</span><span class="n">map</span> <span class="p">(</span><span class="n">kbd</span> <span class="s">"C-c C-S-w"</span><span class="p">)</span> <span class="err">'</span><span class="n">my</span><span class="o">/</span><span class="n">org</span><span class="o">-</span><span class="n">refile</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">journal</span><span class="p">)</span>
</pre></div>

<p>
Enjoy!
</p> </div>
        
    <div class="meta">
        <span class="date">
            <time class="published" datetime="2010-07-30T05:33:00-04:00">2010-07-30 05:33</time>
        </span>
        <ul class="tags">
            <li><a href="/tags/code.html">code</a></li>
            <li><a href="/tags/elisp.html">elisp</a></li>
            <li><a href="/tags/emacs.html">emacs</a></li>
            <li><a href="/tags/orgmode.html">orgmode</a></li>
        </ul>
        <span class="comment-count">
            
        
    <a href="http://punchagan.muse-amuse.in/posts/refile-to-date-tree.html#disqus_thread" data-disqus-identifier="cache/posts/refile-to-date-tree.html">Comments</a>


        </span>
    </div>

    </div>


            <div class="footer">
                <small>© 2014
<a href="mailto:punchagan%5B@T%5Dmuse-amuse.in">punchagan</a> -
<a href="http://getnikola.com">Nikola</a> powered -

<a rel="license" href="http://creativecommons.org/licenses/by/3.0/deed.en_US">
Creative Commons Attribution 3.0 Unported License</a>
 -
<a href="http://themes.getnikola.com/#lagom4ni">lagom4ni</a> theme</small>
            </div>
        </div>
    </div>
    
            <script src="/assets/js/all-nocdn.js" type="text/javascript"></script>

    
    
    <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-21111013-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script type="text/javascript" src="/assets/js/tipuesearch_set.js"></script>
<script type="text/javascript" src="/assets/js/tipuesearch.js"></script>
<script type="text/javascript">
$(document).ready(function() {
    $('#tipue_search_input').tipuesearch({
        'mode': 'json',
        'contentLocation': '/assets/js/tipuesearch_content.json',
        'showUrl': false
    });
});
</script>

</body>
</html>
