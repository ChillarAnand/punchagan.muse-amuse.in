<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns# article: http://ogp.me/ns/article#
" vocab="http://ogp.me/ns" lang="en">


<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

      <meta charset="utf-8">
    <meta name="description" content="None">
    <meta name="author" content="punchagan">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">
            <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
            <link href="/assets/css/all.css" rel="stylesheet" type="text/css">
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
    <![endif]-->
        <link rel="alternate" type="application/rss+xml" title="RSS for tag code (en)" href="/tags/code.xml">


  

  <title>
      Posts about code · Noetic Nought
  </title>

</head>
  <body class="sidebar-overlay layout-reverse">

<!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>Noetic Nought — For an idle mind is the devil's workshop. </p>
  </div>

  <nav class="sidebar-nav">
    <!-- The code below dynamically generates a sidebar nav of pages with -->
    <!-- `layout: page` in the front-matter. See readme for usage. -->

      <a class="sidebar-nav-item" href="/index.html">Home</a>
      <a class="sidebar-nav-item" href="/posts/index.html">Blog</a>
      <a class="sidebar-nav-item" href="/archive.html">Archives</a>
      <a class="sidebar-nav-item" href="/tags/index.html">Tags</a>
      <a class="sidebar-nav-item" href="/tags/cat_hackerschool-checkins.html">HackerSchool</a>
      <a class="sidebar-nav-item" href="/tags/cat_bookmarks.html">Bookmarks</a>
      <a class="sidebar-nav-item" href="/tags/cat_quotes.html">Quotes</a>
      <a class="sidebar-nav-item" href="/rss.xml">RSS</a>
      <a class="sidebar-nav-item" href="https://github.com/punchagan"><i class="fa fa-github fa-lg"></i></a>
      <a class="sidebar-nav-item" href="https://twitter.com/punchagan"><i class="fa fa-twitter on fa-lg"></i></a>

  </nav>

  <div class="sidebar-item">
    <p>
      
<span class="navbar-form pull-left">
<input type="text" id="tipue_search_input" placeholder="Search this site">
</span>
</p>
<div id="tipue_search_content" style="margin-left: auto; margin-right: auto; padding: 20px;"></div>

    
    <p>
      © 2014
<a href="mailto:punchagan%5B@T%5Dmuse-amuse.in">punchagan</a> -
<a href="http://getnikola.com">Nikola</a> powered -

<a rel="license" href="http://creativecommons.org/licenses/by/3.0/deed.en_US">
Creative Commons Attribution 3.0 Unported License</a>
 -
<a href="http://themes.getnikola.com/#lanyon">lanyon</a> theme
    </p>
  </div>
</div>
    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Noetic Nought</a>
            <small>For an idle mind is the devil's workshop.</small>
          </h3>
        </div>
      </div>

      <div class="container content">
<div class="postindex">
    <article class="h-entry post-text">
    <header>
        <h1 class="post-title p-name entry-title"><a href="/posts/martin-fowler-on-refactoring-rubyrogues.html" class="u-url">Martin Fowler on Refactoring @ RubyRogues</a></h1>
        <span class="post-date">25 Oct 2014</span>
    </header>
    <div class="e-content entry-content">
    <p>
I stumbled on a <a href="http://rubyrogues.com/178-rr-book-club-refactoring-ruby-with-martin-fowler/">Ruby Rogues podcast</a> yesterday, which had <a href="http://martinfowlwer.com">Martin Fowler</a> as the
guest.  I really enjoyed the discussion on Refactoring (the noun, the verb and
the book!)
</p>

<p>
Martin clarified in the podcast that refactoring (the verb/process) is a
sequence of very small refactorings, while you keep making sure that you can
run the test suite always.  A refactoring (noun) is a change where you change
the structure of the code without any externally observable changes, with the
intent of making it easier to understand and cheaper to change in future.
</p>

<p>
I also really liked the metaphor of a 'healthy code base'.  Refactoring is,
then, the process of keeping healthy – exercise, speaking metaphorically.  You
can stack up all the exercise you need to do, until you get really unfit.
Refactoring, similarly, needs to be done regularly, to keep the code base
healthy.  This lets you go faster, in the future.
</p>

<p>
I also really liked the advise about trying to push back the mental contexts
you build, while trying to debug/understand some code that is not very clear,
by refactoring the code to make it clearer.  Code needn't be one big chunk of
cryptographic text.  Code is writing.  It should be clear and understandable.
Or, at least we should strive to make it so!
</p>

<p>
The discussion, as always on this podcast, was very lively, pleasant and
enjoyable! Enjoy!
</p>
    </div>
    </article>
    <article class="h-entry post-text">
    <header>
        <h1 class="post-title p-name entry-title"><a href="/posts/simple-org-clock-and-gnomepidgin-integration.html" class="u-url">Simple org-clock and gnome/pidgin integration</a></h1>
        <span class="post-date">22 Oct 2014</span>
    </header>
    <div class="e-content entry-content">
    <p>
<b>See update <a href="/posts/simple-org-clock-and-gnomepidgin-integration.html#sec-1">below</a></b>
</p>

<p>
I have been trying to get back to using org-mode and its clocking
functionality, more often than not.  I used to use it a lot, a few years ago,
and haven't been using it, since I had been in my last job.
</p>

<p>
To help with it, I decided to integrate clocking in and out with changing
status on Pidgin, and turning notifications on and off in Gnome.  Here's a few
lines of code that does this for me.
</p>

<div class="highlight"><pre><span class="p">(</span><span class="nv">defadvice</span> <span class="nv">org-clock-in</span> <span class="p">(</span><span class="nv">after</span> <span class="nv">pc/org-clock-in</span> <span class="p">(</span><span class="k">&amp;optional</span> <span class="nv">select</span> <span class="nv">start-time</span><span class="p">))</span>
  <span class="s">"Turn gnome notifications off."</span>
  <span class="p">(</span><span class="nv">dbus-send-signal</span>
   <span class="ss">:session</span>
   <span class="s">"org.gnome.SessionManager"</span>
   <span class="s">"/org/gnome/SessionManager/Presence"</span>
   <span class="s">"org.gnome.SessionManager.Presence"</span>
   <span class="s">"SetStatus"</span> <span class="mi">2</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">shell-command</span> <span class="s">"purple-remote setstatus?status=unavailable"</span><span class="p">))</span>

<span class="p">(</span><span class="nv">defadvice</span> <span class="nv">org-clock-out</span> <span class="p">(</span><span class="nv">after</span> <span class="nv">pc/org-clock-out</span> <span class="p">(</span><span class="k">&amp;optional</span> <span class="nv">switch-to-state</span> <span class="nv">fail-quietly</span> <span class="nv">at-time</span><span class="p">))</span>
  <span class="s">"Turn gnome notifications back on."</span>
  <span class="p">(</span><span class="nv">dbus-send-signal</span>
   <span class="ss">:session</span>
   <span class="s">"org.gnome.SessionManager"</span>
   <span class="s">"/org/gnome/SessionManager/Presence"</span>
   <span class="s">"org.gnome.SessionManager.Presence"</span>
   <span class="s">"SetStatus"</span> <span class="mi">0</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">shell-command</span> <span class="s">"purple-remote setstatus?status=available"</span><span class="p">))</span>
</pre></div>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">Update <span class="timestamp-wrapper"><span class="timestamp">&lt;2014-11-01 Sat&gt;</span></span>
</h2>
<div class="outline-text-2" id="text-1">
<p>
<a href="http://baali.muse-amuse.in">@baali</a> tried to use my code, and it turns out it didn't work for him, because I
forgot to mention that <code>(ad-activate 'org-clock-in)</code> needs to be run, after the
<code>defadvice</code> code.  I have no idea how it worked for me, without doing that.
May be because I have <code>defadvice</code> for other functions?
</p>

<p>
Also, while debugging this, I found that <code>defadvice</code> is a deprecated way of
doing this, and <code>add-function</code> is the way to go now.  But, instead of advising
the function, I decided to make use of <code>org-clock-in-hook</code>.
</p>

<p>
Here is the new code.
</p>

<div class="highlight"><pre><span class="p">(</span><span class="nb">defun</span> <span class="nv">pc/turn-off-notifications</span> <span class="p">()</span>
  <span class="s">"Turn gnome notifications off."</span>
  <span class="p">(</span><span class="nv">dbus-send-signal</span>
   <span class="ss">:session</span>
   <span class="s">"org.gnome.SessionManager"</span>
   <span class="s">"/org/gnome/SessionManager/Presence"</span>
   <span class="s">"org.gnome.SessionManager.Presence"</span>
   <span class="s">"SetStatus"</span> <span class="mi">2</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">shell-command</span> <span class="s">"purple-remote setstatus?status=unavailable"</span><span class="p">))</span>

<span class="p">(</span><span class="nb">defun</span> <span class="nv">pc/turn-on-notifications</span> <span class="p">()</span>
  <span class="s">"Turn gnome notifications back on."</span>
  <span class="p">(</span><span class="nv">dbus-send-signal</span>
   <span class="ss">:session</span>
   <span class="s">"org.gnome.SessionManager"</span>
   <span class="s">"/org/gnome/SessionManager/Presence"</span>
   <span class="s">"org.gnome.SessionManager.Presence"</span>
   <span class="s">"SetStatus"</span> <span class="mi">0</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">shell-command</span> <span class="s">"purple-remote setstatus?status=available"</span><span class="p">))</span>

<span class="p">(</span><span class="nv">add-hook</span> <span class="ss">'org-clock-in-hook</span> <span class="ss">'pc/turn-off-notifications</span><span class="p">)</span>
<span class="p">(</span><span class="nv">add-hook</span> <span class="ss">'org-clock-out-hook</span> <span class="ss">'pc/turn-on-notifications</span><span class="p">)</span>
</pre></div>
</div>
</div>
    </div>
    </article>
    <article class="h-entry post-text">
    <header>
        <h1 class="post-title p-name entry-title"><a href="/posts/a-smarter-404-page.html" class="u-url">A smarter 404 page.</a></h1>
        <span class="post-date">11 Nov 2013</span>
    </header>
    <div class="e-content entry-content">
    <p>
<a href="http://twitter.com/avudem">Voodoo</a> found a broken link referring to a one of my posts, on Quora.
Given that I have changed my site generator a bunch of times now, it
is quite possible that there are other broken links at various other
places.  So, I implemented a smart <a href="http://punchagan.muse-amuse.in/this-is-a-fun-hack">404 page</a> for the site, yesterday.
It is very similar to something I came across on <a href="http://brettterpstra.com/2013/04/07/fun-with-intelligent-404-pages/">brettterpstra</a>'s site.
I just <a href="http://punchagan.muse-amuse.in/assets/js/suggestions.js">hooked up</a> <a href="http://kiro.me/projects/fuse.html">fuse.js</a> with Nikola's <a href="http://getnikola.com/handbook.html#local-search">tipue-search plugin</a>'s output
file.  My glue code essentially, just figures out the search term from
the URL, performs a Fuse search on the json data created by Nikola's
search plugin, and returns a list of top 5 results.  It just took me
about an hour to write, but is pretty useful, I think.
</p>
    </div>
    </article>
    <article class="h-entry post-text">
    <header>
        <h1 class="post-title p-name entry-title"><a href="/posts/bookmarks-and-quotes-plugin.html" class="u-url">Bookmarks and Quotes plugin</a></h1>
        <span class="post-date">19 Oct 2013</span>
    </header>
    <div class="e-content entry-content">
    <p>
I used to have a separate page for bookmarks and quotes on the old
blog.  They will now be shared as regular posts with 5 or more
bookmarks/quotes.  I use a bookmarklet in my browser to capture links
to an org-file using org-capture protocol and then I have a small
plugin to Nikola, that looks at such captured bookmarks and quotes and
makes new posts out of them.  This workflow is inspired by Brett
Trepestra's <a href="http://brettterpstra.com/2013/01/15/a-web-excursions-system-for-static-blogs/">web excursions</a> plugin.
</p>

<p>
The plugin is currently a part of my blog source, and not published to
Nikola's plugin repository since it is very specific to my setup.  But
if anybody is interested, I can publish the code somewhere public.
</p>

<p>
If you are interested to get these links and bookmarks into your feed
reader, you can subscribe to their feed: <a href="http://punchagan.muse-amuse.in/categories/quotes.xml">quotes</a>, <a href="http://punchagan.muse-amuse.in/categories/bookmarks.xml">bookmarks</a>.  These
posts will also make it to the main feed, though.
</p>
    </div>
    </article>
    <article class="h-entry post-text">
    <header>
        <h1 class="post-title p-name entry-title"><a href="/posts/github-cue-recommendations-for-github-repos.html" class="u-url">GitHub Cue: Recommendations for GitHub Repos</a></h1>
        <span class="post-date">05 Aug 2011</span>
    </header>
    <div class="e-content entry-content">
    <p>
If you aren't already aware of it, I'm one of those people who
goes around saying, "GitHub is my Facebook".  I spend quite a lot
of time on GitHub, browsing the work of various people, looking at
loads of interesting stuff that people built.  I keep jumping
between people pages and projects using the Watchers/Watching &amp;
Followers/Following pages.  This way, I do come across interesting
people and projects, but the SNR is too low.  I wanted a better
way to be able to see stuff, that I find interesting.  That's how
the idea for this Chromium app – GitHub Cue – was born.
</p>

<p>
@baali and I hacked on this, during the last few days and got it
working.  It works as follows, (from the README) —
</p>

<ol class="org-ol">
<li>Scrapes all the descriptions of the repositories being watched
by the user.
</li>
<li>Key terms are extracted from this description text using the
Yahoo Term Extractor.
</li>
<li>A list of languages is obtained, based on the languages of the
repositories, the user if watching.
</li>
<li>GitHub searches are performed for a combination of 3 randomly
chosen languages and 5 random key terms.
</li>
<li>10 random repositories out of all these, are shown.
</li>
</ol>


<p>
This is a very simplistic algorithm, but works decently for my
purposes.  Ideally, I would've liked to use a Collaborative
Filtering algorithm, but I found the data to be too sparse, and
the amount of computation to be too much to be done on the fly.  I
wasn't really interested in pre-computing stuff and putting it
onto my server.  I settled down to the next best thing I could
think of.
</p>

<p>
I would appreciate any further ideas and suggestions.  Thanks!
</p>
    </div>
    </article>
    <article class="h-entry post-text">
    <header>
        <h1 class="post-title p-name entry-title"><a href="/posts/gethub-chrome-notifications-for-github-updates.html" class="u-url">GetHub: Chrome Notifications for Github updates</a></h1>
        <span class="post-date">02 Mar 2011</span>
    </header>
    <div class="e-content entry-content">
    <p>
Over the last two days, I hacked up my first Chrome extension.
I've been using Chrome only for the past couple of weeks or so and
I begin to like it, though some of the extensions aren't as mature
as I would've liked.
</p>

<p>
The original idea was floated by my friend,  Madhu, and Lee helped
me quite a bit, while I was working on it.
</p>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">What does it do?</h2>
<div class="outline-text-2" id="text-1">
<p>
It is a simple extension, that shows pop-ups, whenever there is
an update in your GitHub "Wall" (yes, this is a Facebook world)
or News Feed as they call it.
</p>

<p>
After installation, you will need to save your <code>username</code> and
<code>token</code> for the extension to work.
</p>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">Where to get it?</h2>
<div class="outline-text-2" id="text-2">
<p>
Presently, you will need to get it from GitHub.
</p>

<p>
I might add it to the Chrome Web Store, once I see more people
using it.  I couldn't justify, to myself, paying the initial
one-time verification fee that Google asks for.
</p>

<p>
<b>UPDATE</b>: <span class="timestamp-wrapper"><span class="timestamp">[2011-03-04 Fri]</span></span> Added GetHub to the store
</p>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3">Comments and Feedback</h2>
<div class="outline-text-2" id="text-3">
<ul class="org-ul">
<li>Feel free to write to me at <code>punchagan+gethub@jeemail.com</code>
</li>
<li>Or file issues at GitHub.
</li>
</ul>


<p>
Happy GitHubbing!
</p>
</div>
</div>
    </div>
    </article>
    <article class="h-entry post-text">
    <header>
        <h1 class="post-title p-name entry-title"><a href="/posts/git-powered-wikis-improved-my-bit.html" class="u-url">Git powered wikis improved: My bit</a></h1>
        <span class="post-date">04 Feb 2011</span>
    </header>
    <div class="e-content entry-content">
    <p>
I accidentally came across the blog-post Git-powered wikis
improved - GitHub. And this particular paragraph caught my
eye:
</p>

<blockquote>
<p>
The new editor has the capability to support every markup
language that GitHub Wikis support. If you're a fan of Markdown,
Textile, pod or RDoc, the function bar buttons (e.g. bold,
italic, underline, etc.) will now work. We've even written brand
new inline help for many of GitHub Wiki's supported markup
languages.
</p>

<p>
The language definitions the editor uses are JSON-based and easy
to edit. If you'd like us to support a markup language that we
don't currently support, Gollum, GitHub's wiki software, is
entirely open source – fork our code and send us a pull request
with changes that support your choice language.
</p>
</blockquote>

<p>
I sent a quick patch for org-mode in the function bar, and it has
been accepted.  :)
</p>

<p>
If not anything more, I hope, at least a couple of curious people
will explore org-mode and find it useful.
</p>
    </div>
    </article>
    <article class="h-entry post-text">
    <header>
        <h1 class="post-title p-name entry-title"><a href="/posts/raise-windows-on-current-desktop-xdotool-bash.html" class="u-url">Raise windows (on current desktop) xdotool &amp; bash</a></h1>
        <span class="post-date">06 Nov 2010</span>
    </header>
    <div class="e-content entry-content">
    <p>
I posted a snippet <sup><a id="fnr.1" name="fnr.1" class="footref" href="/posts/raise-windows-on-current-desktop-xdotool-bash.html#fn.1">1</a></sup> of python code that used xdotool to
raise windows.  I got one patch from dusual <sup><a id="fnr.2" name="fnr.2" class="footref" href="/posts/raise-windows-on-current-desktop-xdotool-bash.html#fn.2">2</a></sup> that
enabled raising of windows in the current workspace only.
</p>

<p>
More importantly, Jordan gave a one-liner <sup><a id="fnr.3" name="fnr.3" class="footref" href="/posts/raise-windows-on-current-desktop-xdotool-bash.html#fn.3">3</a></sup> in bash,
that could do the same thing as my long and elaborate python
snippet.  I had a feeling that this would be much shorter in bash,
but I don't feel comfortable writing bash scripts. :P
</p>

<p>
Below is a bash snippet that tries to incorporates both the
changes. :)
</p>

<div class="highlight"><pre><span class="nv">found</span><span class="o">=</span>0

<span class="k">for</span> win in <span class="sb">`</span>xdotool search --class <span class="nv">$1</span><span class="sb">`</span><span class="p">;</span>
<span class="k">do</span>
<span class="k">if</span> <span class="o">[</span> <span class="sb">`</span>xdotool get_desktop_for_window <span class="nv">$win</span><span class="sb">`</span> -eq <span class="sb">`</span>xdotool get_desktop<span class="sb">`</span> <span class="o">]</span><span class="p">;</span>
<span class="k">then</span> <span class="nv">found</span><span class="o">=</span>1<span class="p">;</span> <span class="nb">break</span><span class="p">;</span>
<span class="k">fi</span><span class="p">;</span>
<span class="k">done</span>

<span class="k">if</span> <span class="o">[</span> <span class="nv">$found</span> -eq <span class="m">1</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span> xdotool windowactivate <span class="nv">$win</span><span class="p">;</span> <span class="k">else</span> <span class="nv">$1</span><span class="p">;</span> <span class="k">fi</span>
</pre></div>

<p>
<b>Note</b>: When you've visual effects enabled (the default option on
Ubuntu), getting the current desktop/workspace doesn't work,
probably because Root Window properties are being messed around by
it.
</p>

<p>
<b>Note2</b>: <code>search</code> takes an option <code>--screen</code>. It'd be nice if it
 also had an option <code>--desktop</code>.  This task could then be done in
 a one-liner.
</p>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef">
<sup><a id="fn.1" name="fn.1" class="footnum" href="/posts/raise-windows-on-current-desktop-xdotool-bash.html#fnr.1">1</a></sup> <p class="footpara">
My python snippet
</p>
</div>

<div class="footdef">
<sup><a id="fn.2" name="fn.2" class="footnum" href="/posts/raise-windows-on-current-desktop-xdotool-bash.html#fnr.2">2</a></sup> <p class="footpara">
dusual on twitter
</p>
</div>

<div class="footdef">
<sup><a id="fn.3" name="fn.3" class="footnum" href="/posts/raise-windows-on-current-desktop-xdotool-bash.html#fnr.3">3</a></sup> <p class="footpara">
Jordan's one liner
</p>
</div>


</div>
</div>
    </div>
    </article>
    <article class="h-entry post-text">
    <header>
        <h1 class="post-title p-name entry-title"><a href="/posts/a-couple-of-counting-functions.html" class="u-url">A couple of counting functions</a></h1>
        <span class="post-date">17 Sep 2010</span>
    </header>
    <div class="e-content entry-content">
    <p>
I had a strict character limit of 180 chars for something I was
writing. I just wrote a simple function to count characters in a
region or a buffer. Another function to count the words.
</p>

<div class="highlight"><pre><span class="p">(</span><span class="nb">defun</span> <span class="nv">count-chars</span> <span class="p">()</span>
  <span class="s">"Count the number of chars in a buffer or region."</span>
  <span class="p">(</span><span class="nv">interactive</span><span class="p">)</span>
  <span class="p">(</span><span class="k">let*</span> <span class="p">((</span><span class="nv">beg</span> <span class="p">(</span><span class="k">if</span> <span class="p">(</span><span class="nv">region-active-p</span><span class="p">)</span> <span class="p">(</span><span class="nv">region-beginning</span><span class="p">)</span> <span class="p">(</span><span class="nv">point-min</span><span class="p">)))</span>
	 <span class="p">(</span><span class="nv">end</span> <span class="p">(</span><span class="k">if</span> <span class="p">(</span><span class="nv">region-active-p</span><span class="p">)</span> <span class="p">(</span><span class="nv">region-end</span><span class="p">)</span> <span class="p">(</span><span class="nv">point-max</span><span class="p">))))</span>
	 <span class="p">(</span><span class="nv">message</span> <span class="p">(</span><span class="nv">number-to-string</span> <span class="p">(</span><span class="nb">-</span> <span class="nv">end</span> <span class="nv">beg</span><span class="p">)))))</span>
</pre></div>

<div class="highlight"><pre><span class="p">(</span><span class="nb">defun</span> <span class="nv">count-words</span> <span class="p">()</span>
  <span class="s">"Count the number of words in a buffer or region."</span>
  <span class="p">(</span><span class="nv">interactive</span><span class="p">)</span>
  <span class="p">(</span><span class="k">let*</span> <span class="p">((</span><span class="nv">beg</span> <span class="p">(</span><span class="k">if</span> <span class="p">(</span><span class="nv">region-active-p</span><span class="p">)</span> <span class="p">(</span><span class="nv">region-beginning</span><span class="p">)</span> <span class="p">(</span><span class="nv">point-min</span><span class="p">)))</span>
	 <span class="p">(</span><span class="nv">end</span> <span class="p">(</span><span class="k">if</span> <span class="p">(</span><span class="nv">region-active-p</span><span class="p">)</span> <span class="p">(</span><span class="nv">region-end</span><span class="p">)</span> <span class="p">(</span><span class="nv">point-max</span><span class="p">)))</span>
	 <span class="p">(</span><span class="nb">count</span> <span class="mi">0</span><span class="p">))</span>
    <span class="p">(</span><span class="nv">save-excursion</span>
      <span class="p">(</span><span class="nv">goto-char</span> <span class="nv">beg</span><span class="p">)</span>
      <span class="p">(</span><span class="nv">while</span> <span class="p">(</span><span class="nb">&lt;</span> <span class="p">(</span><span class="nv">point</span><span class="p">)</span> <span class="nv">end</span><span class="p">)</span>
	<span class="p">(</span><span class="nv">forward-word</span><span class="p">)</span>
	<span class="p">(</span><span class="k">setq</span> <span class="nb">count</span> <span class="p">(</span><span class="nb">1+</span> <span class="nb">count</span><span class="p">))))</span>
    <span class="p">(</span><span class="nv">message</span> <span class="p">(</span><span class="nv">int-to-string</span> <span class="nb">count</span><span class="p">))))</span>
</pre></div>
    </div>
    </article>
    <article class="h-entry post-text">
    <header>
        <h1 class="post-title p-name entry-title"><a href="/posts/orgelisp-sorting-list-of-org-links-on-description.html" class="u-url">org/elisp - sorting list of org-links on description</a></h1>
        <span class="post-date">20 Aug 2010</span>
    </header>
    <div class="e-content entry-content">
    <p>
A small utility function that I used to sort the names of people
who commented on my blog.
</p>

<div class="highlight"><pre><span class="p">(</span><span class="nb">defun</span> <span class="nv">org-get-link-desc-from-list</span> <span class="p">()</span>
  <span class="s">""" Get link description of a list item containing just links """</span>
  <span class="p">(</span><span class="k">let*</span> <span class="p">((</span><span class="nv">item-beg</span> <span class="p">(</span><span class="nv">point</span><span class="p">))</span>
       <span class="p">(</span><span class="nv">item-end</span> <span class="p">(</span><span class="nv">org-end-of-item</span><span class="p">))</span>
       <span class="p">(</span><span class="nv">cur-item</span> <span class="p">(</span><span class="nv">buffer-substring-no-properties</span>
		  <span class="nv">item-beg</span> <span class="nv">item-end</span><span class="p">)))</span>
    <span class="p">(</span><span class="nv">goto-char</span> <span class="nv">item-beg</span><span class="p">)</span>
    <span class="p">(</span><span class="nv">org-columns-compact-links</span> <span class="nv">cur-item</span><span class="p">)))</span>
</pre></div>

<p>
<code>sort-lines</code> wasn't good enough for me, since it was sorting
alphabetically and it ended up being the sorted order of the urls
and not the names. This function, when used with
<code>org-sort-entries-or-items</code> gave me what I wanted.
</p>

<p>
Thanks to benny (on #org-mode), I also learnt the difference
between <code>let</code> and <code>let*</code>.
</p>
    </div>
    </article>
</div>
        <div class="pagination">
            <span class="pagination-item newer">
                <a href="/tags/code-1.html" rel="next">Older posts</a>
            </span>
        </div>


      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>

                <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js" type="text/javascript"></script>

    <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-21111013-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/fuse.js/1.0.0/fuse.min.js"></script>
<script type="text/javascript" src="/assets/js/tipuesearch_set.js"></script>
<script type="text/javascript" src="/assets/js/tipuesearch.js"></script>
<script type="text/javascript">
$(document).ready(function() {
    $('#tipue_search_input').tipuesearch({
        'mode': 'json',
        'contentLocation': '/assets/js/tipuesearch_content.json',
        'showUrl': false
    });
});
</script>

    
  </body>
</html>
