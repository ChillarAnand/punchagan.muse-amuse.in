<?xml version="1.0" encoding="utf-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/"><channel><title>Noetic Nought (python)</title><link>http://punchagan.muse-amuse.in/</link><description></description><atom:link href="http://punchagan.muse-amuse.in/categories/python.xml" type="application/rss+xml" rel="self"></atom:link><language>en</language><lastBuildDate>Mon, 11 Nov 2013 01:03:05 GMT</lastBuildDate><generator>nikola</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>cStringIO and unicode</title><link>http://punchagan.muse-amuse.in/posts/cstringio-and-unicode.html</link><description>&lt;p&gt;
StringIO in the cStringIO module in Python 2.7.2 doesn't handle
unicode strings properly.  This bug has bitten me on a couple of
occasions, in the recent past.
&lt;/p&gt;

&lt;p&gt;
Just making a note for myself:
&lt;/p&gt;

&lt;ol class="org-ol"&gt;
&lt;li&gt;Use StringIO if speed doesn't matter so much.
&lt;/li&gt;
&lt;li&gt;Whenever possible, just convert the input to StringIO to a
string, if what you are doing doesn't really require unicode
strings.
&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;
Or may be it's just time to move up to Python 2.7.3
&lt;/p&gt;</description><category>bug</category><category>note</category><category>python</category><guid>http://punchagan.muse-amuse.in/posts/cstringio-and-unicode.html</guid><pubDate>Mon, 03 Dec 2012 21:11:00 GMT</pubDate></item><item><title>Talks at PyCon India 2012</title><link>http://punchagan.muse-amuse.in/posts/talks-at-pycon-india-2012.html</link><description>&lt;ul class="org-ul"&gt;
&lt;li&gt;State "DONE"       from ""           &lt;span class="timestamp-wrapper"&gt;&lt;span class="timestamp"&gt;[2012-11-17 Sat 17:00]&lt;/span&gt;&lt;/span&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;
PyCon is back to Bangalore for the 4th edition.  I've been to all
the previous three editions, and I'm looking forward to this one.
&lt;/p&gt;

&lt;p&gt;
I haven't spoken at any of the previous editions, and hadn't
even really considered speaking at the previous editions.
But, this time, I proposed a couple of talks, and both of them
have been accepted! Woot! Lots of work ahead of me, but I'm
really looking forward to give good talks.  I'll be talking
about Enaml, and showing a brief demo of all the wonderful
things it makes possible.  In the other talk, I'll give a
brief overview of the latest happenings in the SciPy community
and the projects to look forward to and contribute to.  Pankaj
and I will be talking together on this.
&lt;/p&gt;


&lt;p&gt;
Also, Kenneth (lawgon) will be deeply missed at this edition
of PyCon.
&lt;/p&gt;

&lt;p&gt;
Sadly, John Hunter, the lead author of matplotlib, also passed
away last week.  RIP. :(
&lt;/p&gt;</description><category>death</category><category>python</category><category>scipy</category><guid>http://punchagan.muse-amuse.in/posts/talks-at-pycon-india-2012.html</guid><pubDate>Sun, 02 Sep 2012 23:12:00 GMT</pubDate></item><item><title>An import gotcha in Python</title><link>http://punchagan.muse-amuse.in/posts/an-import-gotcha-in-python.html</link><description>&lt;p&gt;
Pankaj and I were stuck with this weird bug recently.  We had
a class &lt;code&gt;A&lt;/code&gt; and a subclass &lt;code&gt;B&lt;/code&gt; and an instance of B, b, was
returning False for &lt;code&gt;isinstance(b, A)&lt;/code&gt;.
&lt;/p&gt;

&lt;p&gt;
After some debugging, we found that it was a problem with
imports, and the same module was being imported twice, using
two different names – &lt;code&gt;bar&lt;/code&gt; and &lt;code&gt;baz.bar&lt;/code&gt;.
&lt;/p&gt;

&lt;p&gt;
Here's a cooked-up example to demonstrate the "bug".  We
create a package baz, as shown below.
&lt;/p&gt;


&lt;pre class="example"&gt;
$ tree baz
baz
├── bar.py
├── foo.py
└── __init__.py
&lt;/pre&gt;

&lt;p&gt;
We have our two classes, &lt;code&gt;A&lt;/code&gt; and &lt;code&gt;B&lt;/code&gt; defined in the &lt;code&gt;bar&lt;/code&gt;
module.
&lt;/p&gt;

&lt;div class="org-src-container"&gt;
&lt;label class="org-src-name"&gt;bar.py&lt;/label&gt;
&lt;pre class="src src-python"&gt;class A(object):
    pass

class B(A):
    pass
&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;
We run &lt;code&gt;foo.py&lt;/code&gt; and scratch our heads for a while, before
figuring out what's wrong…
&lt;/p&gt;

&lt;div class="org-src-container"&gt;
&lt;label class="org-src-name"&gt;foo.py&lt;/label&gt;
&lt;pre class="src src-python"&gt;# We add the directory containing out package 'baz' to sys.path to be
# able to import using the package name.
import sys
sys.path.insert(1, '/tmp')

# We import A from bar module present in the same directory as foo
from bar import A
# We import B from bar, but refer to it, as a submodule of baz
from baz.bar import B

a = A()
b = B()

print "isinstance(b, A) --&amp;gt;", isinstance(b, A)

for cls in (A, B):
    print "%s --&amp;gt;" %cls, cls

for module in sys.modules:
    if 'bar' in module:
	print module, sys.modules[module]
&lt;/pre&gt;
&lt;/div&gt;

&lt;pre class="example"&gt;
isinstance(b, A) --&amp;gt; False
&amp;lt;class 'bar.A'&amp;gt; --&amp;gt; &amp;lt;class 'bar.A'&amp;gt;
&amp;lt;class 'baz.bar.B'&amp;gt; --&amp;gt; &amp;lt;class 'baz.bar.B'&amp;gt;
baz.bar &amp;lt;module 'baz.bar' from '/tmp/baz/bar.pyc'&amp;gt;
bar &amp;lt;module 'bar' from 'bar.pyc'&amp;gt;
&lt;/pre&gt;</description><category>python</category><guid>http://punchagan.muse-amuse.in/posts/an-import-gotcha-in-python.html</guid><pubDate>Mon, 20 Aug 2012 14:46:00 GMT</pubDate></item><item><title>Changes to Blog</title><link>http://punchagan.muse-amuse.in/posts/changes-to-blog.html</link><description>&lt;p&gt;
Well, as you can see, I've changed my blog a bit.  I had been
trying to make it gel well with org-mode and looking for ways to
allow me to share arbit stuff with separate feeds for tags,
separate pages with independent feeds, etc.
&lt;/p&gt;

&lt;p&gt;
I finally got around to tweaking the code of reprise to be able to
do this.  There are still a few things I would like to change, but
I'll make the changes gradually.  The looks are also straight from
uddigal's reprise, with a few tiny tweaks.  I hope it is alright
to be using it.  I really liked the theme.
&lt;/p&gt;

&lt;p&gt;
Every tag now has a separate feed. &lt;code&gt;/tags/emacs.atom&lt;/code&gt; will give
you the feed of &lt;code&gt;emacs&lt;/code&gt; for instance. Also, I plan to have a
couple of more pages, one for all the interesting links I come
across and another for interesting quotes.  Both of these pages,
have their own feeds too (&lt;code&gt;quotes.atom&lt;/code&gt; and &lt;code&gt;links.atom&lt;/code&gt;).
&lt;/p&gt;

&lt;p&gt;
In the spirit of minimalism, I got rid of comments.  I've been
looking for ways of having comments without all the javascript
cruft from disqus, but I didn't find any satisfactory way to do
this.  So, the site will have no comments.  You can write to me,
in case you've something to say to me.
&lt;/p&gt;

&lt;p&gt;
Adios.
&lt;/p&gt;</description><category>blog</category><category>orgmode</category><category>python</category><guid>http://punchagan.muse-amuse.in/posts/changes-to-blog.html</guid><pubDate>Wed, 02 Feb 2011 23:41:00 GMT</pubDate></item><item><title>My talk at SciPy.in 2010</title><link>http://punchagan.muse-amuse.in/posts/my-talk-at-scipyin-2010.html</link><description>&lt;p&gt;
I gave a short talk titled, &lt;i&gt;Pictures, Songs and Python&lt;/i&gt; in this
year's edition of SciPy India.  The talk was a beginner level
talk, mainly intended to get newbies excited about Python.  My
motive was to impress upon the audience that Python is a language
to help you think in. It's a good playing ground to experiment
with your ideas, quickly prototype ideas and have fun!  To my
surprise, the talk was liked by quite a few people.  Thanks to
Prof. Jayant Kirtane for the Bournville!
&lt;/p&gt;

&lt;p&gt;
Here are the talk slides
&lt;/p&gt;</description><category>python</category><category>scipy</category><guid>http://punchagan.muse-amuse.in/posts/my-talk-at-scipyin-2010.html</guid><pubDate>Mon, 20 Dec 2010 18:17:00 GMT</pubDate></item><item><title>Do our eyes suck at blue?</title><link>http://punchagan.muse-amuse.in/posts/do-our-eyes-suck-at-blue.html</link><description>&lt;p&gt;
This is some fun I had, trying to replicate what was written in
this post. I had been trying to understand what was happening
here, and found this post on Hacker News very helpful.
&lt;/p&gt;

&lt;p&gt;
It is a known fact that our eyes have more cones for green and
red as compared to blue.  The Bayer filter used for digital camera
lenses is based upon this principle.  This post tries to
illustrate that using the following two arguments.
&lt;/p&gt;
&lt;ul class="org-ul"&gt;
&lt;li&gt;Looking at only the blue channel of an image looks very dark.
&lt;/li&gt;
&lt;li&gt;Tripling the pixel size of blue channel doesn't cause much
distortion in the final image.
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;
Hence, our eyes suck at blue.
&lt;/p&gt;

&lt;p&gt;
Their argument is flawed, but we could try and improve a few
things.
&lt;/p&gt;

&lt;div id="outline-container-sec-1" class="outline-2"&gt;
&lt;h2 id="sec-1"&gt;Looking at the blue channel.&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-1"&gt;
&lt;p&gt;
This is definitely flawed, since the intensity of blue in the
image they have taken may be less and hence giving us a false
positive.
&lt;/p&gt;

&lt;p&gt;
We could instead gray-scale the image and use these pixel values
in the 3 channels and look at the images.
&lt;/p&gt;

&lt;p&gt;
This also eliminates the problem of the image being captured
through a Bayer filter.
&lt;/p&gt;

&lt;p&gt;
Here's some &lt;code&gt;python&lt;/code&gt; code to do the same. (uses &lt;code&gt;matplotlib&lt;/code&gt;)
&lt;/p&gt;
&lt;div class="org-src-container"&gt;

&lt;pre class="src src-python"&gt;def show_channels(I):
    for i in range(3):
	J = zeros_like(I)
	J[:, :, i] = I[:, :, i]
	figure(i)
	imshow(J)

def show_grey_channels(I):
    K = average(I, axis=2)
    for i in range(3):
	J = zeros_like(I)
	J[:, :, i] = K
	figure(i+10)
	imshow(J)
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-sec-2" class="outline-2"&gt;
&lt;h2 id="sec-2"&gt;Pixelating the blue channel&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-2"&gt;
&lt;p&gt;
Again, there was this argument of use of Bayer filter affecting
the image and the like.
&lt;/p&gt;

&lt;p&gt;
What I did was to swap the channels, and then look at the
images. However I swapped the channels, the image where the
green channel was pixelated always looked the worst.  The
difference between blue and red was less noticeable, I feel.
&lt;/p&gt;

&lt;p&gt;
Here's the code.
&lt;/p&gt;

&lt;div class="org-src-container"&gt;

&lt;pre class="src src-python"&gt;def zoom(x, factor=2):
    rows, cols = x.shape
    row_stride, col_stride = x.strides
    view = np.lib.stride_tricks.as_strided(x,
			(rows, factor, cols, factor),
			(row_stride, 0, col_stride, 0))
    return view.reshape((rows*factor, cols*factor))

def subsample(I):
    for i in range(3):
	J = I.copy()
	J[:, :, i] = zoom(I[::4, ::4, i], 4)
	figure(i)
	title("%s channel subsampled" %colors[i])
	imshow(J)

def swap_subsample(I, k=1):
    for c, color in enumerate(colors):
	print "%s &amp;lt;-- %s" %(colors[c], colors[(c+k)%3])
    for i in range(3):
	J = zeros_like(I)
	for j in range(3):
	    J[:, :, j] = I[:, :, (j+k)%3]
	J[:, :, i] = zoom(I[::4, ::4, (i+k)%3], 4)
	figure(i+10)
	title("%s channel subsampled" %colors[i])
	imshow(J)
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-sec-3" class="outline-2"&gt;
&lt;h2 id="sec-3"&gt;Images&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-3"&gt;
&lt;p&gt;
Here are a few images.  (View them in their original size)
&lt;/p&gt;


&lt;div class="figure"&gt;
&lt;p&gt;&lt;img src="../images/channels.png" alt="channels.png"&gt;
&lt;/p&gt;
&lt;/div&gt;


&lt;div class="figure"&gt;
&lt;p&gt;&lt;img src="../images/subsample.png" alt="subsample.png"&gt;
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description><category>fun</category><category>hack</category><category>image_processing</category><category>python</category><guid>http://punchagan.muse-amuse.in/posts/do-our-eyes-suck-at-blue.html</guid><pubDate>Sat, 13 Nov 2010 13:26:00 GMT</pubDate></item><item><title>Raising Windows using Python</title><link>http://punchagan.muse-amuse.in/posts/raising-windows-using-python.html</link><description>&lt;p&gt;
Posting a small snippet of code, that I've been using for months
now, on the request of a friend &lt;sup&gt;&lt;a id="fnr.1" name="fnr.1" class="footref" href="#fn.1"&gt;1&lt;/a&gt;&lt;/sup&gt;.
&lt;/p&gt;

&lt;p&gt;
It basically checks for open windows of a program and brings them
to the foreground or starts the program. I use it for my 3 most
commonly used programs — Emacs(Mod4+E), Firefox(Mod4+F) and the
Terminal(Mod4+T). I'm using a neat tool called xdotool &lt;sup&gt;&lt;a id="fnr.2" name="fnr.2" class="footref" href="#fn.2"&gt;2&lt;/a&gt;&lt;/sup&gt; to
search for windows using titles.
&lt;/p&gt;

&lt;ul class="org-ul"&gt;
&lt;li&gt;&lt;code&gt;Mod4+E&lt;/code&gt; is mapped to &lt;code&gt;~/bin/raise.py emacs&lt;/code&gt;
&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;
Similarly, for firefox and terminal.
&lt;/p&gt;

&lt;div class="org-src-container"&gt;

&lt;pre class="src src-python"&gt;#!/usr/bin/env python
import subprocess
import sys

if len(sys.argv) &amp;lt; 2:
    print "Usage %s window-name" %(sys.argv[0])
    exit(1)

program = sys.argv[1]

# Having different variables helps, in case of some programs.
window = program

# search for windows titled "window"
search = subprocess.Popen("xdotool search --class %s" %(window),
			  stdout=subprocess.PIPE, shell="FALSE")
search_output = search.stdout.readlines()
search.stdout.close()
print search_output

search_output = [each.strip() for each in search_output]

# Raise the first window or start the program
if len(search_output) is not 0:
    subprocess.Popen("xdotool windowactivate %s"
		     %(search_output[0]), shell="FALSE")
else:
    subprocess.Popen(program, shell="FALSE")
&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;
Feel free to use it as you like. :)
&lt;/p&gt;

&lt;p&gt;
Any improvements and suggestions are welcome.
&lt;/p&gt;
&lt;div id="footnotes"&gt;
&lt;h2 class="footnotes"&gt;Footnotes: &lt;/h2&gt;
&lt;div id="text-footnotes"&gt;

&lt;div class="footdef"&gt;&lt;sup&gt;&lt;a id="fn.1" name="fn.1" class="footnum" href="#fnr.1"&gt;1&lt;/a&gt;&lt;/sup&gt; &lt;p class="footpara"&gt;
dusual on twitter
&lt;/p&gt;&lt;/div&gt;

&lt;div class="footdef"&gt;&lt;sup&gt;&lt;a id="fn.2" name="fn.2" class="footnum" href="#fnr.2"&gt;2&lt;/a&gt;&lt;/sup&gt; &lt;p class="footpara"&gt;
xdotool - Homepage
&lt;/p&gt;&lt;/div&gt;


&lt;/div&gt;
&lt;/div&gt;</description><category>python</category><guid>http://punchagan.muse-amuse.in/posts/raising-windows-using-python.html</guid><pubDate>Wed, 03 Nov 2010 23:06:00 GMT</pubDate></item><item><title>Augmented assignment in Python</title><link>http://punchagan.muse-amuse.in/posts/augmented-assignment-in-python.html</link><description>&lt;p&gt;
If you are new to &lt;code&gt;Python&lt;/code&gt;, you should probably stop reading here.
But, if you have used &lt;code&gt;Python&lt;/code&gt; and &lt;code&gt;numpy&lt;/code&gt;, then read on. Before, that
try these bits of code.
&lt;/p&gt;

&lt;div class="org-src-container"&gt;

&lt;pre class="src src-python"&gt;import numpy
a = numpy.array([1,2])
a = a + 0.5j
print a
&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;
The "same thing", in a slightly different way.
&lt;/p&gt;

&lt;div class="org-src-container"&gt;

&lt;pre class="src src-python"&gt;import numpy
a = numpy.array([1,2])
a += 0.5j
print a
&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;
Both the code blocks, look really the same, until you look carefully.
Under normal circumstances &lt;code&gt;a = a + b&lt;/code&gt; and &lt;code&gt;a += b&lt;/code&gt; behave exactly
similarly, and we really don't need to bother about the differences
between them.
&lt;/p&gt;

&lt;p&gt;
But, &lt;code&gt;+=&lt;/code&gt;, which is an augmented assignment operator, actually tries
to perform the operation in-place, unlike the other statement where
&lt;code&gt;+&lt;/code&gt; actually returns a new object which is again being referenced by
the name &lt;code&gt;a&lt;/code&gt;.
&lt;/p&gt;

&lt;p&gt;
But, when dealing with &lt;code&gt;numpy&lt;/code&gt; arrays, this will lead to trouble.
When assigning to an array, it's &lt;code&gt;dtype&lt;/code&gt; is not changed and hence the
trouble.
&lt;/p&gt;

&lt;p&gt;
The right way to use the augmented assignment operator, would be:
&lt;/p&gt;

&lt;div class="org-src-container"&gt;

&lt;pre class="src src-python"&gt;import numpy
a = numpy.array([1,2], dtype=complex)
a += 0.5j
print a
&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;
The same thing is explained in this thread.  Also, Thanks to
Bhanukiran for asking me this.
&lt;/p&gt;</description><category>note</category><category>numpy</category><category>ology</category><category>python</category><guid>http://punchagan.muse-amuse.in/posts/augmented-assignment-in-python.html</guid><pubDate>Mon, 04 Oct 2010 22:49:00 GMT</pubDate></item><item><title>Notes from Pycon</title><link>http://punchagan.muse-amuse.in/posts/notes-from-pycon.html</link><description>&lt;p&gt;
Just back after attending PyCon India '10. It was not as exciting
as I hoped it would be.  That's generally the case with any
conference I attend.  (I guess, I expect too much from them. :P)
&lt;/p&gt;

&lt;p&gt;
The keynote by David Goodger (pronounced like Badger :) was
"Good".  It was a very simple one talking of how to get Python
into the workplace.  His simple recommendation was to use Python
if we saw any opportunity where it could be used, without
bothering about permissions, convincing people etc.  "It's better
to ask for forgiveness, than for permission."  He spoke of myths
around Python – scripting language, dynamic language, too much
white space, toy language, nobody uses it.  He concluded the talk,
by saying mentioning Indian driving to be an indication of some
quick reflexes that we Indians have. ;) On the whole it was an
enlightening, humorous and enjoyable talk.
&lt;/p&gt;

&lt;p&gt;
I didn't attend too many of other talks.  Amongst the ones that I
did attend, I particularly liked the one by Asim Mittal on using
the Nintendo Wii with Python.
&lt;/p&gt;

&lt;p&gt;
On some thought about my experiences at conferences, I think
conferences shouldn't have any talks at all.  Or atleast, I
shouldn't be attending conferences for talks.  They are an excuse
to catch-up with people.  Conferences should have only lightning
talks of 10 mins and sprints.  Talks, with an extensive
explanation of stuff that can be easily found on the web, are a
waste of time.
&lt;/p&gt;</description><category>event</category><category>python</category><guid>http://punchagan.muse-amuse.in/posts/notes-from-pycon.html</guid><pubDate>Wed, 29 Sep 2010 00:32:00 GMT</pubDate></item><item><title>PyCon India '10</title><link>http://punchagan.muse-amuse.in/posts/pycon-india-10.html</link><description>&lt;p&gt;
Looks like PyCon India 2010 is going to be great fun!  With 80
talk submissions, quite a few interesting ones, this time's PyCon
should be much better than last year's.  Also, David Goodger of
docutils and ReST fame will be the keynote speaker!
&lt;/p&gt;

&lt;ul class="org-ul"&gt;
&lt;li&gt;Dates: &lt;span class="timestamp-wrapper"&gt;&lt;span class="timestamp"&gt;[2010-09-25 Sat]–[2010-09-26 Sun]&lt;/span&gt;&lt;/span&gt;
&lt;/li&gt;
&lt;li&gt;Venue: MSRIT, Bangalore
&lt;/li&gt;
&lt;li&gt;RSVP here!
&lt;/li&gt;
&lt;/ul&gt;


&lt;div class="figure"&gt;
&lt;p&gt;&lt;img src="http://in.pycon.org/2010/static/images/badges/supporter-small.png" alt="supporter-small.png"&gt;
&lt;/p&gt;
&lt;/div&gt;</description><category>conference</category><category>event</category><category>note</category><category>python</category><guid>http://punchagan.muse-amuse.in/posts/pycon-india-10.html</guid><pubDate>Mon, 16 Aug 2010 09:28:00 GMT</pubDate></item></channel></rss>